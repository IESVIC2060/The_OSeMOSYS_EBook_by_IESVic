

<!DOCTYPE html>


<html >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>4 Model Debugging &#8212; OSeMOSYS Energy Model for British Columbia - A Pythonic Implementation by IESVic</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'Book_Files/4_Model_Debugging';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="5 Final Considerations and Laying the Way Forward" href="5_Final_Considerations.html" />
    <link rel="prev" title="3 The OSeMOSYS Model in Pyomo" href="3_The_OSeMOSYS_Model_in_Pyomo.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="None"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="../README.html">
  
  
  
  
    
    
      
    
    
    <img src="../_static/logo.png" class="logo__image only-light" alt="Logo image"/>
    <script>document.write(`<img src="../_static/logo.png" class="logo__image only-dark" alt="Logo image"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../README.html">
                    The Pyomo Implementation of OSeMOSYS for British Columbia
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="1_Introduction_to_Energy_Modelling_and_OSeMOSYS.html">1 Introduction to Energy Modelling and OSeMOSYS</a></li>
<li class="toctree-l1"><a class="reference internal" href="2_Introduction_to_Pyomo.html">2 Introduction to Pyomo</a></li>





<li class="toctree-l1"><a class="reference internal" href="3_The_OSeMOSYS_Model_in_Pyomo.html">3 The OSeMOSYS Model in Pyomo</a></li>





<li class="toctree-l1 current active"><a class="current reference internal" href="#">4 Model Debugging</a></li>





<li class="toctree-l1"><a class="reference internal" href="5_Final_Considerations.html">5 Final Considerations and Laying the Way Forward</a></li>



<li class="toctree-l1"><a class="reference internal" href="Appendix_A.html">Appendix A: A Brief Insight Into the AMPL Modeling Language</a></li>
<li class="toctree-l1"><a class="reference internal" href="Appendix_B.html">Appendix B: OSeMOSYS Storage Dynamics</a></li>
<li class="toctree-l1"><a class="reference internal" href="Appendix_C.html">Appendix C: Model Development Timeline</a></li>
<li class="toctree-l1"><a class="reference internal" href="Appendix_D.html">Appendix D: Overview of CPLEX Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="osemosys_notebook_version.html">IESVic OSeMOSYS Notebook</a></li>






</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/IESVIC2060/The_OSeMOSYS_EBook_by_IESVic" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/IESVIC2060/The_OSeMOSYS_EBook_by_IESVic/issues/new?title=Issue%20on%20page%20%2FBook_Files/4_Model_Debugging.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/Book_Files/4_Model_Debugging.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>4 Model Debugging</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">4 Model Debugging</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#motivation-how-to-debug-linear-programs">4.1 Motivation: how to debug linear programs</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#tools-for-debugging">4.2 Tools for debugging</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#problem-lp-formulation">4.2.1 Problem LP formulation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#extracting-model-components">4.2.2 Extracting model components</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#printing-the-model">4.2.2.1 Printing the model</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#printing-variable-values">4.2.2.2 Printing variable values</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#print-selected-results">4.2.2.3 Print selected results</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#taking-advantage-of-solver-information">4.3 Taking advantage of solver information</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#cplex-files">4.3.1 CPLEX files</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pyomo-suffixes">4.3.2 Pyomo suffixes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pyomo-slack-values">4.3.3 Pyomo slack values</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#interpreting-model-duals-for-debugging">4.4 Interpreting model duals for debugging</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#references">4.5 References</a></li>
</ul>

            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="model-debugging">
<h1>4 Model Debugging<a class="headerlink" href="#model-debugging" title="Permalink to this headline">#</a></h1>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="motivation-how-to-debug-linear-programs">
<h1>4.1 Motivation: how to debug linear programs<a class="headerlink" href="#motivation-how-to-debug-linear-programs" title="Permalink to this headline">#</a></h1>
<p>When dealing with linear programs we will almost always be looking into optimization problems (maximization and minimization). Solutions to these types of problems will conventionally follow the <a class="reference external" href="https://mathworld.wolfram.com/SimplexMethod.html">simplex method</a>, first described by american mathematician George Dantzig in 1947, which consists of an algebraic procedure with underlying geometric concepts that describe and solve linear problems by simplifying them to their corner-point feasible soltions (CPF solutions). This problem description allow us to solve simple problems by hand and relies on sofisticated software packages, capable of applying the method to more complex scenarios (higher geometric dimensions)</p>
<p>Beyound the simplex method which is the standard choice of commercial solvers, the software engineer needs different tools to help diagnose potential problems in the solution, or sources of infeasibility to the program. Linear programming theory hints to an useful tool that can be viewed as a verification method for the original problem solution, the <a class="reference external" href="https://mathworld.wolfram.com/DualityTheorem.html">dual problem</a>. “The constraint values of the primal problem are related to the variables of the dual problem. These variables are known as shadow prices” [1]. Furthermore, the strong duality theorem states that the value of the objective function is equal between the primal and the dual and can be used to get the shadow proces of constraints from the primal. The shadow price (or slack value) of a constraint is, according to the strong duality theorem, the variation to the objective function value when the right-hand side of that constraint is increased by the unit value [1].</p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="tools-for-debugging">
<h1>4.2 Tools for debugging<a class="headerlink" href="#tools-for-debugging" title="Permalink to this headline">#</a></h1>
<section id="problem-lp-formulation">
<h2>4.2.1 Problem LP formulation<a class="headerlink" href="#problem-lp-formulation" title="Permalink to this headline">#</a></h2>
<p>Linear problem definitions are often written as an optimization problem of the form:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">minimize</span> <span class="n">F</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span> 

<span class="n">Subject</span> <span class="n">to</span><span class="p">:</span>

<span class="n">C1</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="n">a</span>

<span class="n">C2</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="n">b</span>

<span class="n">C3</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="n">c</span>
</pre></div>
</div>
<p>where F(x,y) is the objective function, a, b and c are constants and C1(x,y), C2(x,y) and C3(x,y) are constraint functions. In programming, an LP formulation (linear program formulation) is a file of the format <code class="docutils literal notranslate"><span class="pre">.lp</span></code> that is written in a naturally algebraic formulation that can be interpreted by the linear solver (CPLEX, for example) and then solved. For more information on LP files and how they are created and used by CPLEX, read more <a class="reference external" href="http://lpsolve.sourceforge.net/5.0/CPLEX-format.htm">here</a>. An exampole LP file is shown below</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>
\<span class="o">*</span> <span class="n">Problem</span><span class="p">:</span><span class="n">example_lp_problem</span><span class="p">:</span> <span class="n">Windor</span> <span class="n">Glass</span> <span class="n">co</span><span class="o">.</span> <span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span>\

<span class="nb">min</span>

<span class="n">F_x_y</span><span class="p">:</span> <span class="mi">3</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">5</span> <span class="n">y</span> <span class="o">+</span> <span class="n">const</span>

<span class="n">s</span><span class="o">.</span><span class="n">t</span>

<span class="n">C1_x_y</span><span class="p">:</span> <span class="n">x</span> <span class="o">&lt;=</span> <span class="mi">4</span>

<span class="n">C2_x_y</span><span class="p">:</span> <span class="mi">2</span> <span class="n">y</span> <span class="o">&lt;=</span> <span class="mi">12</span>

<span class="n">C3_x_y</span><span class="p">:</span> <span class="mi">3</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">2</span> <span class="n">y</span> <span class="o">&lt;=</span> <span class="mi">18</span>

<span class="n">C_const</span><span class="p">:</span> <span class="n">const</span> <span class="o">=</span> <span class="mf">1.0</span>

<span class="n">bounds</span>

<span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">x</span> <span class="o">&lt;=</span> <span class="o">+</span><span class="n">inf</span>

<span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">y</span> <span class="o">&lt;=</span> <span class="o">+</span><span class="n">inf</span>

<span class="n">end</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">const</span></code> and the <code class="docutils literal notranslate"><span class="pre">C_const</span></code> terms are the constant term and its governing constraint, respectively. Linear solvers will usually add the <code class="docutils literal notranslate"><span class="pre">const</span></code> term to the lp formulation in order to minimize computation time and prevent over-using the computional capabilities of the machine it is running on, so when talking about linear problem formulations, this constant term is not normally present, but for software formulations it is an important addition.</p>
<p>Although a LP file is a way to write a linear program formulation and pass it to the solver to get a solution, we can also retrieve this information from the solver and use it for debugging purposes. In MathProg we can get this file from GLPK by adding the command <code class="docutils literal notranslate"><span class="pre">--wlp</span> <span class="pre">my_lp_file.lp</span></code> when prompting GLPK to solve the model from the command line. This command will output the lp formulation of the model into the <code class="docutils literal notranslate"><span class="pre">my_lp_file.lp</span></code> file in a similar syntax to the example above.</p>
<p>To get the LP file from a Pyomo model, we can prompt Python to write the file from inside the script. This can be done in the following way:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">filename</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">my_path</span><span class="p">,</span> <span class="s1">&#39;Log-files/pyomo_model.lp&#39;</span><span class="p">)</span>
<span class="n">instance</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">io_options</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;symbolic_solver_labels&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">})</span>
</pre></div>
</div>
<p>The lines above will make use of the <code class="docutils literal notranslate"><span class="pre">os</span></code> Python library to write the LP formulation into the <code class="docutils literal notranslate"><span class="pre">pyomo_model.lp</span></code> file. First the empty file is created and assigned to the variable <code class="docutils literal notranslate"><span class="pre">filename</span></code>, then the model instance is written into the file by Pyomo using <code class="docutils literal notranslate"><span class="pre">instance.write()</span></code>.</p>
</section>
<section id="extracting-model-components">
<h2>4.2.2 Extracting model components<a class="headerlink" href="#extracting-model-components" title="Permalink to this headline">#</a></h2>
<p>In the last section we explored linear program formulations and how to create files that contain the algebraic description of linear problems. We have seen that these files can be given to linear solvers, such as GLPK and solved by these solvers in the same way as a Pyomo or a MathProg model file; further we have discussed how we can ask for this file from the solver either through the command line, or from the Python script using Pyomo in combination with Python libraries for operating system manipulation.</p>
<p>We will now discuss and explore Pyomo functionalities that can help on the debugging process. Pyomo can be used to print other bits of model information into separate files and increase the number of available resources for debugging.</p>
<section id="printing-the-model">
<h3>4.2.2.1 Printing the model<a class="headerlink" href="#printing-the-model" title="Permalink to this headline">#</a></h3>
<p>Pyomo provides us with utility functions to help us assess the state of our model. Some of these utilities can have the model output to the screen with variable, set and parameter values.</p>
<p>In order to output the model information to the screen, or to a separate file, we can use one of the following approaches in code:</p>
<ol class="arabic simple">
<li><p>Use the <code class="docutils literal notranslate"><span class="pre">display</span></code> method: <code class="docutils literal notranslate"><span class="pre">model.display()</span></code> / <code class="docutils literal notranslate"><span class="pre">instance.display()</span></code></p></li>
<li><p>Use the <code class="docutils literal notranslate"><span class="pre">pprint()</span></code> method:  <code class="docutils literal notranslate"><span class="pre">model.pprint()</span></code> / <code class="docutils literal notranslate"><span class="pre">instance.pprint()</span></code></p></li>
</ol>
<p>The main difference between the <code class="docutils literal notranslate"><span class="pre">display()</span></code> and the <code class="docutils literal notranslate"><span class="pre">pprint()</span></code> methods is that <code class="docutils literal notranslate"><span class="pre">display()</span></code> serves as a helper function to display a quick summary of the model components, such as the number of variables and constraints in the model and the values of each component with their domains (if applicable) component size (greater than 1 if we have a vector component, for example); <code class="docutils literal notranslate"><span class="pre">pprint()</span></code> on the other hand will display all the available information from the model, or from a specific component if appended to that component (<code class="docutils literal notranslate"><span class="pre">my_parameter.pprint()</span></code>, for example prints the information from <code class="docutils literal notranslate"><span class="pre">my_´parameter</span></code> only).</p>
<p>A typical output from the <code class="docutils literal notranslate"><span class="pre">display()</span></code> method would look like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">model</span><span class="o">.</span><span class="n">disply</span><span class="p">()</span>

<span class="n">Model</span> <span class="n">name</span>

<span class="n">Variables</span><span class="p">:</span>

    <span class="n">Variable</span> <span class="n">x</span> <span class="p">:</span> <span class="n">Size</span><span class="o">=</span><span class="mi">1</span> <span class="n">Domain</span><span class="o">=</span><span class="n">Reals</span>

    <span class="n">Value</span><span class="o">=</span><span class="mf">1.0</span>

    <span class="n">Variable</span> <span class="n">y</span> <span class="p">:</span> <span class="n">Size</span><span class="o">=</span><span class="mi">1</span> <span class="n">Domain</span><span class="o">=</span><span class="n">Reals</span>

    <span class="n">Value</span><span class="o">=</span><span class="mf">3.0</span>

<span class="n">Objectives</span><span class="p">:</span>

    <span class="n">Objective</span> <span class="n">o</span> <span class="p">:</span> <span class="n">Size</span><span class="o">=</span><span class="mi">1</span>

    <span class="n">Value</span><span class="o">=</span><span class="mf">4.0</span>

<span class="n">Constraints</span><span class="p">:</span>

    <span class="kc">None</span>
</pre></div>
</div>
</section>
<section id="printing-variable-values">
<h3>4.2.2.2 Printing variable values<a class="headerlink" href="#printing-variable-values" title="Permalink to this headline">#</a></h3>
<p>In the same way we can print a model summary using the <code class="docutils literal notranslate"><span class="pre">pprint()</span></code> and <code class="docutils literal notranslate"><span class="pre">display()</span></code> methods, we can extract variable values and additional information by employing the <code class="docutils literal notranslate"><span class="pre">pprint()</span></code> method. There are two main ways to extract information from variables and output them to the screen, or to a file:</p>
<ol class="arabic simple">
<li><p>Extracting from a single variable: <code class="docutils literal notranslate"><span class="pre">model.variavble_x.pprint()</span></code></p></li>
<li><p>Extracting from all model variables:</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">variable_log</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;./Log-files/Variables.log&quot;</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">instance</span><span class="o">.</span><span class="n">component_data_objects</span><span class="p">(</span><span class="n">Var</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">),</span> <span class="n">v</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="n">variable_log</span><span class="p">)</span>
</pre></div>
</div>
<p>In the second example we see that we can output information from model components into separate files by assigning the file path to a python variable, <code class="docutils literal notranslate"><span class="pre">variable_log</span></code>, and put it inside the <code class="docutils literal notranslate"><span class="pre">print()</span></code> statement together with the <code class="docutils literal notranslate"><span class="pre">value</span></code> method from Pyomo.</p>
</section>
<section id="print-selected-results">
<h3>4.2.2.3 Print selected results<a class="headerlink" href="#print-selected-results" title="Permalink to this headline">#</a></h3>
<p>Another useful tool that has been developed for use in this project is the <strong>Selected Results</strong> file. This file contains some outputs from the model that can help us catch discrepancies between different implemntations of the same problem (like Pyomo versus MathProg, for example), or verify that the order of magnitude of the results is as expected. The access to such file can greatly decrease debugging time, allowing the programmer to rapidly identify the issue to be tackled.</p>
<p>To create this file, simply select what results you would wish to see and have them be printed out to a separate file. Some functions and components of the model that you might wish to check are:</p>
<ul class="simple">
<li><p>The model’s objective function</p></li>
<li><p>The problem bounding constraints: these are the constraints that constitute the solution space oof the model. A small change to these constraints will have a noticible impact to your objective function’s output</p></li>
<li><p>The model summary from your solver of choice</p></li>
<li><p>Any constraint you suspect is causing issues to the expected result</p></li>
</ul>
</section>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="taking-advantage-of-solver-information">
<h1>4.3 Taking advantage of solver information<a class="headerlink" href="#taking-advantage-of-solver-information" title="Permalink to this headline">#</a></h1>
<p>We have previously eluded to the possibility of utilizing solvers to extract additional information about the problem and the solution process, such as LP formulation, duals and slack values. In this section let us look into how we can use solvers and Pyomo to interact with solvers in order to obtain such information.</p>
<section id="cplex-files">
<h2>4.3.1 CPLEX files<a class="headerlink" href="#cplex-files" title="Permalink to this headline">#</a></h2>
<p>The IBM CPLEX solver comes with its own <a class="reference external" href="https://www.ibm.com/products/ilog-cplex-optimization-studio">optimization studio</a> upon installation which allows the programmer to explore the optimization model using an intuitive GUI and obtain extra information about the problem’s solution. It is possible, however to access the same information by navigating CPLEX through the command line to create the relevant files we wish to study.</p>
<p>To run CPLEX from your command line, simply navigate to your model’s folder on the command line and call CPLEX:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">my_model_path</span>
<span class="n">cplex</span>
</pre></div>
</div>
<p>After running the <code class="docutils literal notranslate"><span class="pre">cplex</span></code> command you should be greeted with the optimization studio’s welcome message indicating you are now inside the solver.</p>
<p>In order to access the suplemental files that CPLEX cabn provide, we will first need to have the LP formulation of our problem in a <code class="docutils literal notranslate"><span class="pre">.lp</span></code> file. Then we want to have CPLEX read that problem foormulation by running thr following command: <code class="docutils literal notranslate"><span class="pre">CPLEX&gt;</span> <span class="pre">read</span> <span class="pre">my_Problem.lp</span></code></p>
<p>CPLEX will output the time spent by the solver to read that problem, which should now be loaded into the solver’s memory. We can now proceed to have CPLEX produce any files we may wish. The main files we would look into and that CPLEX can produce are:</p>
<ul class="simple">
<li><p>Duals file (DUA): contains values from the problem’s dual</p></li>
<li><p>Solutions file (SOL): contains information about the problem’s primal’s solution</p></li>
<li><p>Conflicting constraints file (CLP): contains information about conflicting constraints and their bounds</p></li>
</ul>
<p>CPLEX allows the user to navigate in a step-by-step manner, guiding them to write the correct file each time. With the problem’s LP already on the solver’s memory, the process for writing any of the cited files is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">write</span> <span class="n">my_file_name</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">File</span> <span class="nb">type</span> <span class="n">options</span><span class="p">:</span>
<span class="n">alp</span>          <span class="n">LP</span> <span class="nb">format</span> <span class="n">problem</span> <span class="k">with</span> <span class="n">generic</span> <span class="n">names</span> <span class="ow">and</span> <span class="n">bound</span> <span class="n">annotations</span>
<span class="n">ann</span>          <span class="n">Model</span> <span class="n">annotations</span>
<span class="n">bas</span>          <span class="n">INSERT</span> <span class="nb">format</span> <span class="n">basis</span> <span class="n">file</span>
<span class="n">clp</span>          <span class="n">Conflict</span> <span class="n">file</span>
<span class="n">dpe</span>          <span class="n">Binary</span> <span class="nb">format</span> <span class="k">for</span> <span class="n">dual</span><span class="o">-</span><span class="n">perturbed</span> <span class="n">problem</span>
<span class="n">dua</span>          <span class="n">MPS</span> <span class="nb">format</span> <span class="n">of</span> <span class="n">explicit</span> <span class="n">dual</span> <span class="n">of</span> <span class="n">problem</span>
<span class="n">emb</span>          <span class="n">MPS</span> <span class="nb">format</span> <span class="n">of</span> <span class="p">(</span><span class="n">embedded</span><span class="p">)</span> <span class="n">network</span>
<span class="n">flt</span>          <span class="n">Solution</span> <span class="n">pool</span> <span class="n">filters</span>
<span class="n">lp</span>           <span class="n">LP</span> <span class="nb">format</span> <span class="n">problem</span> <span class="n">file</span>
<span class="nb">min</span>          <span class="n">DIMACS</span> <span class="nb">min</span><span class="o">-</span><span class="n">cost</span> <span class="n">network</span><span class="o">-</span><span class="n">flow</span> <span class="nb">format</span> <span class="n">of</span> <span class="p">(</span><span class="n">embedded</span><span class="p">)</span> <span class="n">network</span>
<span class="n">mps</span>          <span class="n">MPS</span> <span class="nb">format</span> <span class="n">problem</span> <span class="n">file</span>
<span class="n">mst</span>          <span class="n">MIP</span> <span class="n">start</span> <span class="n">file</span>
<span class="n">net</span>          <span class="n">CPLEX</span> <span class="n">network</span> <span class="nb">format</span> <span class="n">of</span> <span class="p">(</span><span class="n">embedded</span><span class="p">)</span> <span class="n">network</span>
<span class="nb">ord</span>          <span class="n">Integer</span> <span class="n">priority</span> <span class="n">order</span> <span class="n">file</span>
<span class="n">ppe</span>          <span class="n">Binary</span> <span class="nb">format</span> <span class="k">for</span> <span class="n">primal</span><span class="o">-</span><span class="n">perturbed</span> <span class="n">problem</span>
<span class="n">pre</span>          <span class="n">Binary</span> <span class="nb">format</span> <span class="k">for</span> <span class="n">presolved</span> <span class="n">problem</span>
<span class="n">prm</span>          <span class="n">Non</span><span class="o">-</span><span class="n">default</span> <span class="n">parameter</span> <span class="n">settings</span>
<span class="n">rlp</span>          <span class="n">LP</span> <span class="nb">format</span> <span class="n">problem</span> <span class="k">with</span> <span class="n">generic</span> <span class="n">names</span>
<span class="n">rew</span>          <span class="n">MPS</span> <span class="nb">format</span> <span class="n">problem</span> <span class="k">with</span> <span class="n">generic</span> <span class="n">names</span>
<span class="n">sav</span>          <span class="n">Binary</span> <span class="n">matrix</span> <span class="ow">and</span> <span class="n">basis</span> <span class="n">file</span>
<span class="n">sol</span>          <span class="n">Solution</span> <span class="n">file</span>
</pre></div>
</div>
<p>After getting the file type optins from CPLEX, simply select the option you want. The new file should be created in your working directory from the command line and it will comply with CPLEX’s syntax for that <a class="reference external" href="https://www.ibm.com/docs/en/icos/20.1.0?topic=cplex-other-file-formats">file format</a>.</p>
</section>
<section id="pyomo-suffixes">
<h2>4.3.2 Pyomo suffixes<a class="headerlink" href="#pyomo-suffixes" title="Permalink to this headline">#</a></h2>
<p>A suffix is solver functionality for declaring extra model data, typically in the form of solution information [4]. Pyomo allows the programmer to have access to this information through the <code class="docutils literal notranslate"><span class="pre">Suffix</span></code> component class.</p>
<p>As we have seen in chapter 2 of this tutorial series, Pyomo borrows many of its concepts and syntax from AMPL, suffixes are no different in this matter, as the functionality is adapted from AMPL’s implementation of it as well.</p>
<p>In its essence, a suffix is allowing a two-way communication between the model and the solver as the model is being solved. This way, we are able to:</p>
<ul class="simple">
<li><p>Import extra information about model solutions into Pyomo (such as duals and slack values, for example)</p></li>
<li><p>Export extra information to a solver to aid in model solution (such as variable branching priority information, for example)</p></li>
<li><p>Advanced component manipulation for later use in other algorithms [4].</p></li>
</ul>
<p>Since suffixes allow us to communicate with the solver by both giving and extracting information from it, we need to know how to implement this functionality inside Python. To do so, we need to pass to the Suffix class a communication <strong>direction</strong> and, if we wish, a <strong>datatype</strong> to be carried through this communication process.</p>
<p>From Pyomo’s documentation we will see the following directions and datatypes to be used by the suffixes:</p>
<ol class="arabic simple">
<li><p>Direction:</p></li>
</ol>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">LOCAL</span></code> - suffix data stays local to the modeling framework and will not be imported or exported by a solver plugin (default)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">IMPORT</span></code> - suffix data will be imported from the solver by its respective solver plugin</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">EXPORT</span></code> - suffix data will be exported to a solver by its respective solver plugin</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">IMPORT_EXPORT</span></code> - suffix data flows in both directions between the model and the solver or algorithm</p></li>
</ul>
<ol class="arabic simple" start="2">
<li><p>Datatype:</p></li>
</ol>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">FLOAT</span></code> - the suffix stores floating point data (default)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">INT</span></code> - the suffix stores integer data</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code> - the suffix stores any type of data</p></li>
</ul>
<p>A typical suffix declaration can look as any of the following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Export integer data</span>
<span class="n">model</span><span class="o">.</span><span class="n">priority</span> <span class="o">=</span> <span class="n">pyo</span><span class="o">.</span><span class="n">Suffix</span><span class="p">(</span><span class="n">direction</span><span class="o">=</span><span class="n">pyo</span><span class="o">.</span><span class="n">Suffix</span><span class="o">.</span><span class="n">EXPORT</span><span class="p">,</span> <span class="n">datatype</span><span class="o">=</span><span class="n">pyo</span><span class="o">.</span><span class="n">Suffix</span><span class="o">.</span><span class="n">INT</span><span class="p">)</span>

<span class="c1"># Export and import floating point data</span>
<span class="n">model</span><span class="o">.</span><span class="n">dual</span> <span class="o">=</span> <span class="n">pyo</span><span class="o">.</span><span class="n">Suffix</span><span class="p">(</span><span class="n">direction</span><span class="o">=</span><span class="n">pyo</span><span class="o">.</span><span class="n">Suffix</span><span class="o">.</span><span class="n">IMPORT_EXPORT</span><span class="p">)</span>

<span class="c1"># Store floating point data</span>
<span class="n">model</span><span class="o">.</span><span class="n">junk</span> <span class="o">=</span> <span class="n">pyo</span><span class="o">.</span><span class="n">Suffix</span><span class="p">()</span>
</pre></div>
</div>
<p>From the code snippet above, we see that Pyomo can use the <code class="docutils literal notranslate"><span class="pre">Suffix</span></code> functionality to give us model duals, information about model integer and float variables, as well as floating point values for later use in debugging, or other applications.</p>
<p>When working with <code class="docutils literal notranslate"><span class="pre">Abstract</span> <span class="pre">Models</span></code> in Pyomo, we can also create suffixes in a similar way to that of creating <code class="docutils literal notranslate"><span class="pre">Constraints</span></code>, with a component <code class="docutils literal notranslate"><span class="pre">rule</span></code> to work with variables, for example [4]:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">foo_rule</span><span class="p">(</span><span class="n">m</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">((</span><span class="n">model</span><span class="o">.</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="mf">3.0</span><span class="o">*</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">model</span><span class="o">.</span><span class="n">I</span><span class="p">)</span>
<span class="n">model</span><span class="o">.</span><span class="n">foo</span> <span class="o">=</span> <span class="n">pyo</span><span class="o">.</span><span class="n">Suffix</span><span class="p">(</span><span class="n">rule</span><span class="o">=</span><span class="n">foo_rule</span><span class="p">)</span>
<span class="o">-----------------------------------------------------------------------------------</span>
<span class="o">&gt;&gt;&gt;</span> <span class="c1"># instantiate the model</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">inst</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">create_instance</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">inst</span><span class="o">.</span><span class="n">I</span><span class="p">:</span>
<span class="o">...</span>     <span class="nb">print</span><span class="p">((</span><span class="n">i</span><span class="p">,</span> <span class="n">inst</span><span class="o">.</span><span class="n">foo</span><span class="p">[</span><span class="n">inst</span><span class="o">.</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]]))</span>
<span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">)</span>
<span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mf">6.0</span><span class="p">)</span>
<span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mf">9.0</span><span class="p">)</span>
<span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mf">12.0</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="pyomo-slack-values">
<h2>4.3.3 Pyomo slack values<a class="headerlink" href="#pyomo-slack-values" title="Permalink to this headline">#</a></h2>
<p>As we have seen, it is possible to extract, amoung other things, information about the dual problem of the model using Pyomo suffixes. More than knowledge about duals, we might wish to know more about specific model components to help us debug the algorithm. A useful part of a model that can be used to debug the script and give the programmer further insight into the solution space of the program are the so called constraint <strong>shadow prices</strong>, or <strong>slack values</strong>.</p>
<p>Luckly, Pyomo stores these slack values for every model constraint, after the model is constructed, inside the <code class="docutils literal notranslate"><span class="pre">component_objects()</span></code> method of the model instance. Using this method we can directly access the components of our model (Sets, Parameters, Variables, Constranits and Objective Function). In order to get the slack values from our model constraints, we will simply specify <code class="docutils literal notranslate"><span class="pre">Constraint</span></code> as our component of interest to the method and then iterate through each constraint to extract the value. This is illustrated by the following code excerpt:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">instance</span><span class="o">.</span><span class="n">component_objects</span><span class="p">(</span><span class="n">Constraint</span><span class="p">,</span> <span class="n">active</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="n">c</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">c</span><span class="p">[</span><span class="n">index</span><span class="p">],</span> <span class="s2">&quot; || &quot;</span><span class="p">,</span> <span class="n">c</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="o">.</span><span class="n">lslack</span><span class="p">(),</span> <span class="s2">&quot; || &quot;</span><span class="p">,</span> <span class="n">c</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="o">.</span><span class="n">uslack</span><span class="p">(),</span> <span class="n">file</span><span class="o">=</span><span class="n">dual_logfile</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="interpreting-model-duals-for-debugging">
<h1>4.4 Interpreting model duals for debugging<a class="headerlink" href="#interpreting-model-duals-for-debugging" title="Permalink to this headline">#</a></h1>
<p>We have seen how to extract information about model duals using a solver like CPLEX to generate a duals file for us. Now let us explore how to take advantage of these files to help us in debugging our models so we can achieve the result we expect and get a better insight into our linear program formulation.</p>
<p>In the case of our project with OSeMOSYS, we had an original implementation in Mathprog that we wished to recreate using Pyomo, so we knew what the goal value for the model’s objective function was, effectively making the dual program files a short cut into understanding how the new Pyomo model was behaving.</p>
<p>With access to the dual files it is possble to simply compare them and see if any values differ, if so, indicating an implementation problem occuring under that constraint, or variable. Differet values for the objective function indicate an evident implementation problem, but how different they are will indicate how loose, or how strict the solution space is. The dual files will then indicate, together with the slack values which constraints exactly are shifting the model’s solution space away fromthe expected objective value result.</p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="references">
<h1>4.5 References<a class="headerlink" href="#references" title="Permalink to this headline">#</a></h1>
<p>[1] <a class="reference external" href="http://ksuweb.kennesaw.edu/~jgarrido/CS4491_notes/Sensitivity_rep.pdf">J.M. Garrido; Sensitivity - CS4491 Introduction to Computational Models in Python; Kennesaw State University; 2015</a></p>
<p>[2] <a class="reference external" href="https://archive.org/details/introductiontoop0000hill_g8z1">F.S. Hillier, G.J. Lieberman; Introduction to Operations Research; 9th ed.; Chapter 4: Solving Linear Programming Problems: The Simplex Method</a></p>
<p>[3] <a class="reference external" href="https://pyomo.readthedocs.io/en/stable/working_models.html">Working with Pyomo Models</a></p>
<p>[4] <a class="reference external" href="https://pyomo.readthedocs.io/en/stable/pyomo_modeling_components/Suffixes.html">Pyomo Suffixes</a></p>
<p>[5] <a class="reference external" href="https://jckantor.github.io/ND-Pyomo-Cookbook/02.02-Production-Model-Sensitivity-Analysis.html">Production Model Sensitivity Analysis</a></p>
<p>[6] <a class="reference external" href="https://jckantor.github.io/ND-Pyomo-Cookbook/">Pyomo Cookbook</a></p>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "IESVIC2060/The_OSeMOSYS_EBook_by_IESVic",
            ref: "main",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./Book_Files"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="3_The_OSeMOSYS_Model_in_Pyomo.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">3 The OSeMOSYS Model in Pyomo</p>
      </div>
    </a>
    <a class="right-next"
       href="5_Final_Considerations.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">5 Final Considerations and Laying the Way Forward</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">4 Model Debugging</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#motivation-how-to-debug-linear-programs">4.1 Motivation: how to debug linear programs</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#tools-for-debugging">4.2 Tools for debugging</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#problem-lp-formulation">4.2.1 Problem LP formulation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#extracting-model-components">4.2.2 Extracting model components</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#printing-the-model">4.2.2.1 Printing the model</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#printing-variable-values">4.2.2.2 Printing variable values</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#print-selected-results">4.2.2.3 Print selected results</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#taking-advantage-of-solver-information">4.3 Taking advantage of solver information</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#cplex-files">4.3.1 CPLEX files</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pyomo-suffixes">4.3.2 Pyomo suffixes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pyomo-slack-values">4.3.3 Pyomo slack values</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#interpreting-model-duals-for-debugging">4.4 Interpreting model duals for debugging</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#references">4.5 References</a></li>
</ul>

  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Cristiano Curi Fernandes
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright 2022.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>